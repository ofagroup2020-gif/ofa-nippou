<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>OFA GROUP Webç‚¹å‘¼ãƒ»æ—¥å ±ãƒ•ã‚©ãƒ¼ãƒ </title>

  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">

  <style>
    :root {
      --ofa-green:#17B978;
      --ofa-red:#E74C3C;
      --ofa-blue:#3498DB;
      --ofa-yellow:#F9CA24;
      --bg-soft:#EFFFF4;
      --card-bg:#FFFFFF;
      --text-main:#2C3E50;
      --border:#E0E0E0;
    }

    * { box-sizing:border-box; }

    /* æ¿ƒã„ã‚è™¹è‰²èƒŒæ™¯ */
    body{
      margin:0;
      font-family:'Noto Sans JP',sans-serif;
      background:linear-gradient(180deg,#ff9f43,#ff6b6b,#9b59b6,#3498db,#2ecc71);
      background-attachment:fixed;
      background-size:100% 100%;
      color:var(--text-main);
      line-height:1.6;
    }

    .container{
      max-width:700px;
      margin:20px auto 40px;
      background:rgba(255,255,255,0.95);
      border-radius:20px;
      box-shadow:0 10px 30px rgba(0,0,0,.25);
      overflow:hidden;
      backdrop-filter:blur(8px);
    }

    /* ===== ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆOFAãƒ­ã‚´ï¼‹è™¹è‰²ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ ===== */
    .header{
      background:linear-gradient(135deg,#ff7675,#f9ca24,#55efc4,#74b9ff,#a29bfe);
      background-size:300% 300%;
      animation: headerRainbow 12s ease infinite;
      color:#fff;
      padding:24px 16px 18px;
      text-align:center;
      position:relative;
    }
    @keyframes headerRainbow{
      0%{background-position:0% 50%;}
      50%{background-position:100% 50%;}
      100%{background-position:0% 50%;}
    }
    .header::after{
      content:"";
      position:absolute;
      inset:auto -40px -30px;
      height:40px;
      background:radial-gradient(circle at 50% 0,#ffffff80,transparent 60%);
    }
    .header-inner{position:relative;z-index:1;}

    .header-top{
      display:flex;
      justify-content:center;
      align-items:center;
      gap:12px;
      margin-bottom:6px;
    }

    /* æ­£æ–¹å½¢OFAãƒ­ã‚´ */
    .header-logo-square{
      width:80px;
      height:80px;
      border-radius:18px;
      background:#ffffff;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 0 0 3px rgba(255,255,255,.7),
                 0 8px 18px rgba(0,0,0,.35);
    }
    .header-logo-square span{
      font-weight:900;
      font-size:34px;
      letter-spacing:1px;
      font-family:'Noto Sans JP',sans-serif;
    }
    .header-logo-square .logo-o{ color:#E74C3C; } /* èµ¤ */
    .header-logo-square .logo-f{ color:#F1C40F; } /* é»„ */
    .header-logo-square .logo-a{ color:#3498DB; } /* é’ */

    .header-brand-text{
      font-size:18px;
      font-weight:800;
      letter-spacing:2px;
      text-shadow:0 1px 3px rgba(0,0,0,.25);
    }

    .header-title{
      font-size:22px;
      font-weight:900;
      margin-top:4px;
      text-shadow:0 1px 3px rgba(0,0,0,.3);
    }

    .header-badges{
      margin-top:8px;
      display:flex;
      justify-content:center;
      flex-wrap:wrap;
      gap:6px;
      font-size:11px;
    }
    .header-badge{
      padding:4px 10px;
      border-radius:999px;
      background:rgba(255,255,255,.35);
      border:1px solid rgba(255,255,255,.8);
      backdrop-filter:blur(4px);
    }

    /* ã‚¿ãƒ– */
    .tab-bar{
      display:flex;
      background:#fdfef9;
      border-bottom:1px solid #ecf0f1;
    }
    .tab-btn{
      flex:1;
      padding:10px 4px;
      border:none;
      background:none;
      font-weight:700;
      font-size:14px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:4px;
      border-bottom:3px solid transparent;
    }
    .tab-btn span.icon{font-size:16px;}
    .tab-btn.active{
      border-bottom-color:var(--ofa-green);
      color:var(--ofa-green);
      background:#ffffff;
    }

    .content{ padding:16px; }

    /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆè™¹ãƒ©ã‚¤ãƒ³ï¼‰ */
    .section-title{
      margin:18px 0 10px;
      padding:8px 10px;
      background:#FDFBF5;
      border-radius:6px;
      font-weight:700;
      font-size:14px;
      color:#2d98da;
      position:relative;
      overflow:hidden;
    }
    .section-title::before{
      content:"";
      position:absolute;
      left:0;
      top:0;
      bottom:0;
      width:6px;
      background:linear-gradient(180deg,#ff7675,#f9ca24,#55efc4,#74b9ff,#a29bfe);
    }

    label{
      display:block;
      font-weight:700;
      font-size:13px;
      margin-top:14px;
    }
    .required-mark{ color:var(--ofa-red); margin-left:4px; }

    input[type="text"],
    input[type="tel"],
    input[type="email"],
    input[type="date"],
    input[type="time"],
    input[type="number"],
    select,
    textarea{
      width:100%;
      padding:10px;
      margin-top:4px;
      border:1px solid var(--border);
      border-radius:10px;
      font-size:14px;
      background:#fbfffa;
    }
    textarea{ resize:vertical; }

    .field-hint{
      font-size:11px;
      color:#777;
      margin-top:2px;
    }

    .radio-card-group{
      margin-top:8px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .radio-card{
      flex:1 1 120px;
      border:1px solid var(--border);
      border-radius:999px;
      padding:6px 10px;
      display:flex;
      align-items:center;
      gap:6px;
      font-size:13px;
      background:#ffffff;
      box-shadow:0 1px 0 rgba(0,0,0,.03);
    }
    .radio-card input{margin:0;}

    /* å¤§ãƒœã‚¿ãƒ³ */
    .primary-btn{
      width:100%;
      padding:14px;
      margin-top:24px;
      border:none;
      border-radius:999px;
      background:linear-gradient(135deg,#ff7675,#e74c3c);
      color:#fff;
      font-size:16px;
      font-weight:700;
      cursor:pointer;
      box-shadow:0 4px 0 #c0392b;
    }
    .primary-btn:active{transform:translateY(1px);box-shadow:none;}

    /* ã‚µãƒ–ãƒœã‚¿ãƒ³ */
    .sub-btn{
      padding:8px 12px;
      border-radius:999px;
      border:none;
      font-size:12px;
      font-weight:700;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:4px;
      margin:4px 4px 4px 0;
    }
    .sub-btn.gray{background:#f2f2f2;color:#555;}
    .sub-btn.danger{background:#fdecea;color:var(--ofa-red);}

    /* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
    .message{
      margin-top:12px;
      font-size:13px;
      padding:8px 10px;
      border-radius:6px;
      display:none;
    }
    .message.success{
      display:block;
      background:#d4edda;
      color:#155724;
    }
    .message.error{
      display:block;
      background:#f8d7da;
      color:#721c24;
    }

    /* å±¥æ­´ã‚«ãƒ¼ãƒ‰ */
    .history-note{font-size:11px;color:#666;margin-bottom:4px;}
    .history-filter{
      margin:8px 0 10px;
      padding:8px 10px;
      background:#f8f9f9;
      border-radius:8px;
      font-size:12px;
    }
    .history-filter-row{
      display:flex;
      align-items:center;
      gap:6px;
      margin-top:4px;
    }
    .history-filter-row input[type="date"]{
      flex:1;
      padding:6px 8px;
      font-size:12px;
    }

    #historyList{margin-top:10px;}
    .history-item{
      padding:10px 12px;
      border-radius:12px;
      border:1px solid #ddd;
      background:#ffffff;
      margin-bottom:8px;
      cursor:pointer;
      position:relative;
      box-shadow:0 2px 6px rgba(0,0,0,.08);
    }
    .history-item::after{
      content:"PDF";
      position:absolute;
      right:10px;
      top:8px;
      font-size:10px;
      padding:2px 6px;
      border-radius:999px;
      background:#ebf5fb;
      color:#2980b9;
    }
    .history-item:hover{background:#f7f7f7;}
    .history-item-title{
      font-size:14px;
      font-weight:700;
    }
    .history-item-sub{
      font-size:11px;
      color:#555;
      margin-top:2px;
    }
    .history-item-status{
      font-size:11px;
      margin-top:2px;
      color:#27ae60;
    }

    /* PDFãƒ“ãƒ¥ãƒ¼ */
    #pdfOutput{margin-top:10px;}
    .pdf-wrap{font-family:'Noto Sans JP',sans-serif;}
    .pdf-doc{
      border:1px solid #ccc;
      padding:16px 14px;
      margin-bottom:12px;
      background:#fff;
    }
    .pdf-header{
      text-align:center;
      border-bottom:3px solid var(--ofa-green);
      padding-bottom:6px;
      margin-bottom:10px;
    }
    .pdf-header-title{font-size:16px;font-weight:700;color:var(--ofa-blue);}
    .pdf-header-sub{font-size:11px;color:#555;}
    .pdf-section-box{margin-top:10px;}
    .pdf-section-title{
      background:#f8f9f9;
      padding:6px 8px;
      border-left:4px solid var(--ofa-yellow);
      font-size:12px;
      font-weight:700;
      color:var(--ofa-blue);
      margin-bottom:4px;
    }
    .pdf-row{
      display:flex;
      font-size:12px;
      padding:3px 0;
      border-bottom:1px dotted #eee;
    }
    .pdf-row-label{width:38%;font-weight:700;}
    .pdf-row-value{width:62%;}
    .pdf-status{
      margin:4px 0 6px;
      padding:6px 8px;
      font-size:11px;
      border-radius:4px;
      background:#d4edda;
      color:#155724;
      text-align:center;
    }
    .pdf-status.incomplete{
      background:#fff3cd;
      color:#856404;
    }
    .page-break{page-break-after:always;}

    @media print{
      body{background:#fff;}
      .container{box-shadow:none;border-radius:0;margin:0;}
      .header,.tab-bar,.content .form-area,.content .history-area-controls{display:none;}
      #pdfOutput{margin:0;}
      #pdfOutput .pdf-doc{border:none;margin:0;padding:10px 6px;}
      #pdfOutput .page-break{display:block;}
    }
  </style>
</head>
<body>

<div class="container">

  <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <header class="header">
    <div class="header-inner">
      <div class="header-top">
        <div class="header-logo-square">
          <span class="logo-o">O</span>
          <span class="logo-f">F</span>
          <span class="logo-a">A</span>
        </div>
        <div class="header-brand-text">OFA GROUP</div>
      </div>
      <div class="header-title">Webç‚¹å‘¼ãƒ»æ—¥å ±ãƒ•ã‚©ãƒ¼ãƒ </div>
      <div class="header-badges">
        <div class="header-badge">ãƒ‰ãƒ©ã‚¤ãƒãƒ¼å°‚ç”¨ è¨˜éŒ²ãƒ„ãƒ¼ãƒ«</div>
        <div class="header-badge">ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶å†…ã®ã¿ä¿å­˜</div>
        <div class="header-badge">PDFä¿å­˜ &amp; LINEå…±æœ‰OK</div>
      </div>
    </div>
  </header>

  <!-- ã‚¿ãƒ– -->
  <div class="tab-bar">
    <button class="tab-btn active" data-tab="form">
      <span class="icon">ğŸ“</span>ç‚¹å‘¼ãƒ»æ—¥å ±å…¥åŠ›
    </button>
    <button class="tab-btn" data-tab="history">
      <span class="icon">ğŸ“„</span>å±¥æ­´ãƒ»æ¤œç´¢ãƒ»PDF
    </button>
  </div>

  <div class="content">

    <!-- å…¥åŠ›ã‚¿ãƒ– -->
    <div id="tab_form" class="form-area">
      <form id="tenkoForm" autocomplete="off">

        <div class="section-title">0. ãƒ¢ãƒ¼ãƒ‰é¸æŠ</div>
        <label>ç‚¹å‘¼ãƒ¢ãƒ¼ãƒ‰ <span class="required-mark">*</span></label>
        <div class="radio-card-group">
          <label class="radio-card">
            <input type="radio" name="mode" value="å‡ºç™ºç‚¹å‘¼" checked>
            å‡ºç™ºç‚¹å‘¼
          </label>
          <label class="radio-card">
            <input type="radio" name="mode" value="å¸°ç€ç‚¹å‘¼">
            å¸°ç€ç‚¹å‘¼
          </label>
        </div>

        <div class="section-title">1. åŸºæœ¬æƒ…å ±</div>

        <label for="date">æ—¥ä»˜ <span class="required-mark">*</span></label>
        <input id="date" type="date" required>

        <label for="driverName">ãƒ‰ãƒ©ã‚¤ãƒãƒ¼å <span class="required-mark">*</span></label>
        <input id="driverName" type="text" required>

        <label for="company">æ‰€å±ä¼šç¤¾ <span class="required-mark">*</span></label>
        <input id="company" type="text" required>

        <label for="tel">é›»è©±ç•ªå· <span class="required-mark">*</span></label>
        <input id="tel" type="tel" required>

        <label for="email">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆä»»æ„ï¼‰</label>
        <input id="email" type="email">

        <label for="client">æ¡ˆä»¶ï¼ˆè·ä¸»ï¼‰</label>
        <input id="client" type="text">

        <label for="area">ã‚¨ãƒªã‚¢ï¼ˆéƒ½é“åºœçœŒï¼‰</label>
        <input id="area" type="text" placeholder="ä¾‹: é¹¿å…å³¶çœŒ / ç†Šæœ¬çœŒãªã©">

        <label for="licensePhoto">é‹è»¢å…è¨±è¨¼ å†™çœŸï¼ˆä»»æ„ãƒ»ã“ã®ç”»é¢ã®ã¿ï¼‰</label>
        <input id="licensePhoto" type="file" accept="image/*">
        <div class="field-hint">â€»ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã¯å±¥æ­´ã«ã¯ä¿å­˜ã•ã‚Œã¾ã›ã‚“ã€‚</div>

        <!-- å‡ºç™ºãƒã‚§ãƒƒã‚¯ -->
        <div id="section_departure">
          <div class="section-title">2. å‡ºç™ºå‰ãƒã‚§ãƒƒã‚¯</div>

          <label for="startPlace">å‡ºç™ºå ´æ‰€ï¼ˆè‡ªå®…ã€ã‚‚ã—ãã¯äº‹å‹™æ‰€ï¼‰</label>
          <input id="startPlace" type="text">

          <label for="workTime">å‡ºå‹¤æ™‚é–“</label>
          <input id="workTime" type="time">

          <label for="startTime">å‡ºç™ºæ™‚é–“ <span class="required-mark">*</span></label>
          <input id="startTime" type="time" required>

          <label for="condition">ä½“èª¿ <span class="required-mark">*</span></label>
          <select id="condition" required>
            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
            <option value="è‰¯å¥½">è‰¯å¥½</option>
            <option value="æ™®é€š">æ™®é€š</option>
            <option value="ä¸èª¿">ä¸èª¿</option>
          </select>

          <label for="sleep">ç¡çœ æ™‚é–“ï¼ˆæ™‚é–“ï¼‰</label>
          <input id="sleep" type="number" step="0.5" placeholder="ä¾‹: 6.5">

          <label>é£²é…’ï¼ˆ24hä»¥å†…ï¼‰ <span class="required-mark">*</span></label>
          <div class="radio-card-group">
            <label class="radio-card">
              <input type="radio" name="drink" value="ãªã—" checked>ãªã—
            </label>
            <label class="radio-card">
              <input type="radio" name="drink" value="ã‚ã‚Š">ã‚ã‚Š
            </label>
          </div>

          <label>æœè–¬ï¼ˆé‹è»¢ã«å½±éŸ¿ã™ã‚‹è–¬ï¼‰</label>
          <div class="radio-card-group">
            <label class="radio-card">
              <input type="radio" name="medicine" value="ãªã—" checked>ãªã—
            </label>
            <label class="radio-card">
              <input type="radio" name="medicine" value="ã‚ã‚Š">ã‚ã‚Š
            </label>
          </div>

          <label for="temp">ä½“æ¸© (â„ƒ) <span class="required-mark">*</span></label>
          <input id="temp" type="number" step="0.1" required>

          <label for="alcoholValue">ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«æ¤œæŸ»å€¤ (mg/L) <span class="required-mark">*</span></label>
          <input id="alcoholValue" type="text" required placeholder="ä¾‹: 0.00">

          <label for="startMeter">å‡ºç™ºå‰ãƒ¡ãƒ¼ã‚¿ãƒ¼ (km) <span class="required-mark">*</span></label>
          <input id="startMeter" type="number" required>

          <div class="section-title">3. æ—¥å¸¸ç‚¹æ¤œ</div>

          <label>ãƒ–ãƒ¬ãƒ¼ã‚­ <span class="required-mark">*</span></label>
          <div class="radio-card-group">
            <label class="radio-card"><input type="radio" name="check_brake" value="OK" checked>OK</label>
            <label class="radio-card"><input type="radio" name="check_brake" value="ç•°å¸¸ã‚ã‚Š">ç•°å¸¸ã‚ã‚Š</label>
          </div>

          <label>ã‚¿ã‚¤ãƒ¤ <span class="required-mark">*</span></label>
          <div class="radio-card-group">
            <label class="radio-card"><input type="radio" name="check_tire" value="OK" checked>OK</label>
            <label class="radio-card"><input type="radio" name="check_tire" value="ç•°å¸¸ã‚ã‚Š">ç•°å¸¸ã‚ã‚Š</label>
          </div>

          <label>ç¯ç«é¡ <span class="required-mark">*</span></label>
          <div class="radio-card-group">
            <label class="radio-card"><input type="radio" name="check_light" value="OK" checked>OK</label>
            <label class="radio-card"><input type="radio" name="check_light" value="ç•°å¸¸ã‚ã‚Š">ç•°å¸¸ã‚ã‚Š</label>
          </div>

          <label>ã‚«ãƒ¡ãƒ©ãƒ»ãƒŸãƒ©ãƒ¼ <span class="required-mark">*</span></label>
          <div class="radio-card-group">
            <label class="radio-card"><input type="radio" name="check_camera" value="OK" checked>OK</label>
            <label class="radio-card"><input type="radio" name="check_camera" value="ç•°å¸¸ã‚ã‚Š">ç•°å¸¸ã‚ã‚Š</label>
          </div>

          <label>è»Šä½“å¤–è¦³ <span class="required-mark">*</span></label>
          <div class="radio-card-group">
            <label class="radio-card"><input type="radio" name="check_body" value="OK" checked>OK</label>
            <label class="radio-card"><input type="radio" name="check_body" value="ç•°å¸¸ã‚ã‚Š">ç•°å¸¸ã‚ã‚Š</label>
          </div>

          <label>ãã®ä»–ç‚¹æ¤œ <span class="required-mark">*</span></label>
          <div class="radio-card-group">
            <label class="radio-card"><input type="radio" name="check_other" value="OK" checked>OK</label>
            <label class="radio-card"><input type="radio" name="check_other" value="ç•°å¸¸ã‚ã‚Š">ç•°å¸¸ã‚ã‚Š</label>
          </div>

          <label for="check_note">ç‚¹æ¤œãƒ¡ãƒ¢</label>
          <textarea id="check_note" rows="3" placeholder="æ°—ã«ãªã£ãŸç‚¹ãªã©"></textarea>

          <label for="checkPhoto">æ—¥å¸¸ç‚¹æ¤œã®ç•°å¸¸å†™çœŸï¼ˆä»»æ„ãƒ»ã“ã®ç”»é¢ã®ã¿ï¼‰</label>
          <input id="checkPhoto" type="file" accept="image/*">
          <div class="field-hint">â€»ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã¯å±¥æ­´ã«ã¯ä¿å­˜ã•ã‚Œã¾ã›ã‚“ã€‚</div>
        </div>

        <!-- å¸°ç€ -->
        <div id="section_return" style="display:none;">
          <div class="section-title">2. å¸°ç€è¨˜éŒ²</div>

          <label for="returnPlace">å¸°ç€å ´æ‰€ <span class="required-mark">*</span></label>
          <input id="returnPlace" type="text">

          <label for="offTime">é€€å‹¤æ™‚é–“</label>
          <input id="offTime" type="time">

          <label for="returnTime">å¸°ç€æ™‚é–“ï¼ˆè‡ªå®…ã‚‚ã—ãã¯äº‹å‹™æ‰€ï¼‰ <span class="required-mark">*</span></label>
          <input id="returnTime" type="time">

          <label for="startMeterReturn">å‡ºç™ºãƒ¡ãƒ¼ã‚¿ãƒ¼ (km)ã€è‡ªå‹•èª­ã¿è¾¼ã¿ã€‘</label>
          <input id="startMeterReturn" type="number" readonly>
          <div class="field-hint">â€»åŒã˜æ—¥ãƒ»åŒã˜ãƒ‰ãƒ©ã‚¤ãƒãƒ¼åãƒ»åŒã˜ä¼šç¤¾ã§ä¿å­˜ã—ãŸã€Œå‡ºç™ºç‚¹å‘¼ã€ã®å€¤ã‚’è‡ªå‹•ã§èª­ã¿è¾¼ã¿ã¾ã™ã€‚</div>

          <label for="returnMeter">å¸°ç€ãƒ¡ãƒ¼ã‚¿ãƒ¼ (km) <span class="required-mark">*</span></label>
          <input id="returnMeter" type="number">

          <label for="distance">ç·èµ°è¡Œè·é›¢ (km)ã€è‡ªå‹•è¨ˆç®—ã€‘</label>
          <input id="distance" type="number" readonly>

          <label for="rest">ä¼‘æ†©æ™‚é–“ãƒ»å ´æ‰€</label>
          <input id="rest" type="text" placeholder="ä¾‹: 1æ™‚é–“30åˆ† / SAãƒ»PAãªã©">

          <label>ä»£é‡‘å…¥é‡‘çŠ¶æ³ï¼ˆç€æ‰•ã„ãƒ»ç«‹æ›¿ãªã©ï¼‰ <span class="required-mark">*</span></label>
          <div class="radio-card-group">
            <label class="radio-card"><input type="radio" name="codStatus" value="ãªã—" checked>ãªã—</label>
            <label class="radio-card"><input type="radio" name="codStatus" value="å…¥é‡‘æ¸ˆ">å…¥é‡‘æ¸ˆ</label>
            <label class="radio-card"><input type="radio" name="codStatus" value="å¾Œæ—¥å¯¾å¿œ">å¾Œæ—¥å¯¾å¿œ</label>
          </div>

          <label for="codAmount">ä»£é‡‘å…¥é‡‘é¡ï¼ˆå††ï¼‰</label>
          <input id="codAmount" type="number">

          <label for="roadStatus">é“è·¯ãƒ»é‹è¡ŒçŠ¶æ³</label>
          <textarea id="roadStatus" rows="3"></textarea>

          <label for="abnormalDetail">é‹è¡Œä¸­ã®ç•°å¸¸ã®è©³ç´°</label>
          <textarea id="abnormalDetail" rows="3"></textarea>

          <label>ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ãƒã‚§ãƒƒã‚¯ï¼ˆå¸°ç€æ™‚ï¼‰ <span class="required-mark">*</span></label>
          <div class="radio-card-group">
            <label class="radio-card">
              <input type="radio" name="returnAlcoholCheck" value="å®Ÿæ–½ï¼ˆå•é¡Œãªã—ï¼‰" checked>å®Ÿæ–½ï¼ˆå•é¡Œãªã—ï¼‰
            </label>
            <label class="radio-card">
              <input type="radio" name="returnAlcoholCheck" value="å®Ÿæ–½ï¼ˆè¦ç¢ºèªï¼‰">å®Ÿæ–½ï¼ˆè¦ç¢ºèªï¼‰
            </label>
            <label class="radio-card">
              <input type="radio" name="returnAlcoholCheck" value="æœªå®Ÿæ–½">æœªå®Ÿæ–½
            </label>
          </div>

          <label for="vehiclePhoto">è»Šä¸¡ç•°å¸¸ã®å†™çœŸï¼ˆä»»æ„ãƒ»ã“ã®ç”»é¢ã®ã¿ï¼‰</label>
          <input id="vehiclePhoto" type="file" accept="image/*">
          <div class="field-hint">â€»ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã¯å±¥æ­´ã«ã¯ä¿å­˜ã•ã‚Œã¾ã›ã‚“ã€‚</div>
        </div>

        <button type="submit" class="primary-btn">ã“ã®è¨˜éŒ²ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã«ä¿å­˜</button>
      </form>

      <div id="message" class="message"></div>
    </div>

    <!-- å±¥æ­´ã‚¿ãƒ– -->
    <div id="tab_history" style="display:none;">

      <div class="section-title" style="margin-top:0;">ä¿å­˜ã•ã‚ŒãŸç‚¹å‘¼å±¥æ­´</div>
      <div class="history-note">â€»ã“ã®ç«¯æœ«ãƒ»ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã«ã ã‘ä¿å­˜ã•ã‚Œã¦ã„ã¾ã™</div>

      <div class="history-area-controls">
        <div class="history-filter">
          <div>æœŸé–“ã§çµã‚Šè¾¼ã¿</div>
          <div class="history-filter-row">
            <input id="historyFrom" type="date">
            <span>ã€œ</span>
            <input id="historyTo" type="date">
          </div>
          <div style="margin-top:4px;">
            <button type="button" class="sub-btn gray" id="filterApplyBtn">ã“ã®æœŸé–“ã§çµã‚Šè¾¼ã¿</button>
            <button type="button" class="sub-btn gray" id="filterClearBtn">çµã‚Šè¾¼ã¿è§£é™¤</button>
          </div>
        </div>

        <button type="button" class="sub-btn danger" id="clearHistoryBtn">å±¥æ­´ã‚’ã™ã¹ã¦å‰Šé™¤</button>
      </div>

      <div id="historyList"></div>

      <div style="margin-top:10px;">
        <button type="button" class="sub-btn gray" id="pdfPrintBtn" style="display:none;">ã“ã®PDFã‚’å°åˆ· / ä¿å­˜</button>
        <button type="button" class="sub-btn gray" id="pdfBackBtn" style="display:none;">ä¸€è¦§ã«æˆ»ã‚‹</button>
      </div>

      <div id="pdfOutput"></div>
    </div>

  </div>
</div>

<script>
  const LOCAL_KEY = 'ofaGroupRecords';
  const form = document.getElementById('tenkoForm');
  const messageBox = document.getElementById('message');

  const modeRadios = document.querySelectorAll('input[name="mode"]');
  const sectionDeparture = document.getElementById('section_departure');
  const sectionReturn = document.getElementById('section_return');

  const startMeterInput = document.getElementById('startMeter');
  const startMeterReturnInput = document.getElementById('startMeterReturn');
  const returnMeterInput = document.getElementById('returnMeter');
  const distanceInput = document.getElementById('distance');

  const historyList = document.getElementById('historyList');
  const pdfOutput = document.getElementById('pdfOutput');
  const pdfPrintBtn = document.getElementById('pdfPrintBtn');
  const pdfBackBtn = document.getElementById('pdfBackBtn');

  const historyFrom = document.getElementById('historyFrom');
  const historyTo   = document.getElementById('historyTo');

  let currentFilter = {from:null,to:null};

  // ä»Šæ—¥ã®æ—¥ä»˜ã‚’ã‚»ãƒƒãƒˆ
  document.getElementById('date').value = new Date().toISOString().slice(0,10);

  // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
  document.querySelectorAll('.tab-btn').forEach(btn=>{
    btn.addEventListener('click',()=>{
      document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      const tab = btn.dataset.tab;
      document.getElementById('tab_form').style.display = tab==='form'?'block':'none';
      document.getElementById('tab_history').style.display = tab==='history'?'block':'none';
      if(tab==='history'){
        resetPdfView();
        renderHistory();
      }
    });
  });

  // ãƒ¢ãƒ¼ãƒ‰åˆ¥ required åˆ‡æ›¿
  const departureRequiredIds = ['startTime','condition','temp','alcoholValue','startMeter'];
  const returnRequiredIds = ['returnPlace','returnTime','returnMeter'];

  function setRequired(ids, flag){
    ids.forEach(id=>{
      const el = document.getElementById(id);
      if(el) el.required = flag;
    });
  }

  function getRecords(){
    const raw = localStorage.getItem(LOCAL_KEY);
    return raw ? JSON.parse(raw) : [];
  }
  function setRecords(list){
    localStorage.setItem(LOCAL_KEY,JSON.stringify(list));
  }

  // èµ°è¡Œè·é›¢è‡ªå‹•è¨ˆç®—ï¼ˆå‡ºç™ºãƒ¡ãƒ¼ã‚¿ãƒ¼ã¯ startMeterReturnInput ã‚’ä½¿ç”¨ï¼‰
  function calcDistance(){
    const s = parseFloat(startMeterReturnInput.value);
    const e = parseFloat(returnMeterInput.value);
    if(!isNaN(s) && !isNaN(e) && e >= s){
      distanceInput.value = (e - s).toFixed(1);
    }else{
      distanceInput.value = '';
    }
  }

  function updateModeView(){
    const modeEl = document.querySelector('input[name="mode"]:checked');
    const mode = modeEl ? modeEl.value : 'å‡ºç™ºç‚¹å‘¼';
    const isDeparture = mode === 'å‡ºç™ºç‚¹å‘¼';

    sectionDeparture.style.display = isDeparture ? 'block' : 'none';
    sectionReturn.style.display    = isDeparture ? 'none'  : 'block';

    setRequired(departureRequiredIds, isDeparture);
    setRequired(returnRequiredIds, !isDeparture);

    if(!isDeparture){
      // å¸°ç€ç‚¹å‘¼ï¼šå‡ºç™ºãƒ¡ãƒ¼ã‚¿ãƒ¼è‡ªå‹•èª­ã¿è¾¼ã¿
      const date    = document.getElementById('date').value;
      const driver  = document.getElementById('driverName').value;
      const company = document.getElementById('company').value;

      if(date && driver && company){
        const records = getRecords();
        const dep = records.find(r =>
          r.date === date &&
          r.driverName === driver &&
          r.company === company &&
          r.startMeter
        );
        if(dep){
          startMeterReturnInput.value = dep.startMeter || '';
        }else{
          startMeterReturnInput.value = '';
        }
      }else{
        startMeterReturnInput.value = '';
      }
      distanceInput.value = '';
      returnMeterInput.value = '';
    }else{
      // å‡ºç™ºç‚¹å‘¼ã«æˆ»ã£ãŸã‚‰è¡¨ç¤ºç”¨ã«åŒæœŸã—ã¦ãŠã
      startMeterReturnInput.value = startMeterInput.value;
      distanceInput.value = '';
      returnMeterInput.value = '';
    }
  }
  modeRadios.forEach(r=>r.addEventListener('change',updateModeView));
  updateModeView();

  // å‡ºç™ºãƒ¡ãƒ¼ã‚¿ãƒ¼å…¥åŠ›æ™‚ â†’ è¡¨ç¤ºç”¨ã«ã‚‚åŒæœŸ
  startMeterInput.addEventListener('input',()=>{
    startMeterReturnInput.value = startMeterInput.value;
  });
  // å¸°ç€ãƒ¡ãƒ¼ã‚¿ãƒ¼å…¥åŠ›æ™‚ â†’ è‡ªå‹•è¨ˆç®—
  returnMeterInput.addEventListener('input',calcDistance);

  // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡
  form.addEventListener('submit',e=>{
    e.preventDefault();
    const mode = document.querySelector('input[name="mode"]:checked').value;

    const base = {
      id: Date.now(),
      date: document.getElementById('date').value,
      driverName: document.getElementById('driverName').value,
      company: document.getElementById('company').value,
      tel: document.getElementById('tel').value,
      email: document.getElementById('email').value,
      client: document.getElementById('client').value,
      area: document.getElementById('area').value,
      modeLast: mode,
      submitTime: new Date().toLocaleTimeString('ja-JP'),
    };

    let recordPart = {};

    if(mode === 'å‡ºç™ºç‚¹å‘¼'){
      recordPart = {
        startPlace: document.getElementById('startPlace').value,
        workTime: document.getElementById('workTime').value,
        startTime: document.getElementById('startTime').value,
        condition: document.getElementById('condition').value,
        sleep: document.getElementById('sleep').value,
        drink: document.querySelector('input[name="drink"]:checked').value,
        medicine: document.querySelector('input[name="medicine"]:checked').value,
        temp: document.getElementById('temp').value,
        alcoholValue: document.getElementById('alcoholValue').value,
        startMeter: document.getElementById('startMeter').value,
        check_brake: document.querySelector('input[name="check_brake"]:checked').value,
        check_tire: document.querySelector('input[name="check_tire"]:checked').value,
        check_light: document.querySelector('input[name="check_light"]:checked').value,
        check_camera: document.querySelector('input[name="check_camera"]:checked').value,
        check_body: document.querySelector('input[name="check_body"]:checked').value,
        check_other: document.querySelector('input[name="check_other"]:checked').value,
        check_note: document.getElementById('check_note').value
      };
    }else{
      recordPart = {
        returnPlace: document.getElementById('returnPlace').value,
        offTime: document.getElementById('offTime').value,
        returnTime: document.getElementById('returnTime').value,
        returnMeter: document.getElementById('returnMeter').value,
        distance: document.getElementById('distance').value,
        rest: document.getElementById('rest').value,
        codStatus: document.querySelector('input[name="codStatus"]:checked').value,
        codAmount: document.getElementById('codAmount').value,
        roadStatus: document.getElementById('roadStatus').value,
        abnormalDetail: document.getElementById('abnormalDetail').value,
        returnAlcoholCheck: document.querySelector('input[name="returnAlcoholCheck"]:checked').value
      };
    }

    let records = getRecords();

    if(mode === 'å¸°ç€ç‚¹å‘¼'){
      const idx = records.findIndex(r =>
        r.date === base.date &&
        r.driverName === base.driverName &&
        r.company === base.company &&
        !r.returnTime
      );
      if(idx !== -1){
        records[idx] = {...records[idx], ...recordPart, modeLast:'å‡ºç™ºãƒ»å¸°ç€'};
        setRecords(records);
        showMessage('å‡ºç™ºç‚¹å‘¼ã®è¨˜éŒ²ã«å¸°ç€ç‚¹å‘¼ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚','success');
      }else{
        const newRec = {...base, ...recordPart};
        records.push(newRec);
        records.sort((a,b)=>b.id-a.id);
        setRecords(records);
        showMessage('å¸°ç€ç‚¹å‘¼ã®è¨˜éŒ²ã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚','success');
      }
    }else{
      const newRec = {...base, ...recordPart};
      records.push(newRec);
      records.sort((a,b)=>b.id-a.id);
      setRecords(records);
      showMessage('å‡ºç™ºç‚¹å‘¼ã®è¨˜éŒ²ã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚','success');
    }

    form.reset();
    document.getElementById('date').value = new Date().toISOString().slice(0,10);
    updateModeView();
  });

  function showMessage(text,type){
    messageBox.textContent = text;
    messageBox.className = 'message ' + (type==='error'?'error':'success');
  }

  // ãƒ•ã‚£ãƒ«ã‚¿
  function applyFilter(list){
    return list.filter(r=>{
      if(currentFilter.from && r.date < currentFilter.from) return false;
      if(currentFilter.to   && r.date > currentFilter.to)   return false;
      return true;
    });
  }

  function renderHistory(){
    const all = getRecords();
    const list = applyFilter(all);
    historyList.innerHTML = '';

    if(list.length === 0){
      historyList.innerHTML =
        '<p style="text-align:center;color:#777;padding:12px;">è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>';
      return;
    }

    list.forEach(rec=>{
      const completed = !!rec.returnTime;
      const statusLabel = completed ? 'å‡ºç™ºãƒ»å¸°ç€ è¨˜éŒ²æ¸ˆã¿'
        : (rec.startTime ? 'å‡ºç™ºç‚¹å‘¼ã®ã¿' : 'å¸°ç€ç‚¹å‘¼ã®ã¿');

      const div = document.createElement('div');
      div.className = 'history-item';
      div.innerHTML = `
        <div class="history-item-title">${rec.date} / ${statusLabel}</div>
        <div class="history-item-sub">${rec.driverName || '-'} / ${rec.company || '-'}</div>
        <div class="history-item-status">æœ€çµ‚å…¥åŠ›: ${rec.modeLast || (completed?'å‡ºç™ºãƒ»å¸°ç€':'')}</div>
      `;
      div.addEventListener('click',()=>showRecordPdf(rec));
      historyList.appendChild(div);
    });
  }

  document.getElementById('filterApplyBtn').addEventListener('click',()=>{
    currentFilter.from = historyFrom.value || null;
    currentFilter.to   = historyTo.value   || null;
    resetPdfView();
    renderHistory();
  });

  document.getElementById('filterClearBtn').addEventListener('click',()=>{
    historyFrom.value = '';
    historyTo.value = '';
    currentFilter = {from:null,to:null};
    resetPdfView();
    renderHistory();
  });

  document.getElementById('clearHistoryBtn').addEventListener('click',()=>{
    if(confirm('ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ç‚¹å‘¼å±¥æ­´ã‚’ã™ã¹ã¦å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')){
      localStorage.removeItem(LOCAL_KEY);
      resetPdfView();
      renderHistory();
    }
  });

  // PDFç”Ÿæˆ
  function buildPdfHtml(records){
    let html = `
      <div class="pdf-wrap">
        <style>
          .pdf-wrap{font-family:'Noto Sans JP',sans-serif;}
          .pdf-doc{border:1px solid #ccc;padding:12px 10px;margin-bottom:12px;background:#fff;}
          .pdf-header{text-align:center;border-bottom:3px solid #38C172;padding-bottom:4px;margin-bottom:8px;}
          .pdf-header-title{font-size:15px;font-weight:700;color:#3498DB;}
          .pdf-header-sub{font-size:11px;color:#555;}
          .pdf-section-box{margin-top:8px;}
          .pdf-section-title{background:#f8f9f9;padding:5px 7px;border-left:4px solid #F1C40F;font-size:12px;font-weight:700;color:#3498DB;margin-bottom:3px;}
          .pdf-row{display:flex;font-size:12px;padding:2px 0;border-bottom:1px dotted #eee;}
          .pdf-row-label{width:38%;font-weight:700;}
          .pdf-row-value{width:62%;}
          .pdf-status{margin:4px 0 6px;padding:5px 7px;font-size:11px;border-radius:4px;background:#d4edda;color:#155724;text-align:center;}
          .pdf-status.incomplete{background:#fff3cd;color:#856404;}
          .page-break{page-break-after:always;}
        </style>
    `;

    records.forEach((d,idx)=>{
      const completed = !!d.returnTime;
      html += `
        <div class="pdf-doc">
          <div class="pdf-header">
            <div class="pdf-header-title">OFA GROUP Webç‚¹å‘¼ãƒ»æ—¥å ±</div>
            <div class="pdf-header-sub">${d.date || '-'} / ${d.driverName || '-'} / ${d.company || '-'}</div>
          </div>
          <div class="pdf-status ${completed?'':'incomplete'}">
            ${completed ? 'å‡ºç™ºãƒ»å¸°ç€ã¨ã‚‚ã«è¨˜éŒ²æ¸ˆã¿' : (d.startTime ? 'å‡ºç™ºç‚¹å‘¼ã®ã¿è¨˜éŒ²' : 'å¸°ç€ç‚¹å‘¼ã®ã¿è¨˜éŒ²')}
          </div>

          <div class="pdf-section-box">
            <div class="pdf-section-title">åŸºæœ¬æƒ…å ±</div>
            <div class="pdf-row"><div class="pdf-row-label">ãƒ‰ãƒ©ã‚¤ãƒãƒ¼å</div><div class="pdf-row-value">${d.driverName || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">æ‰€å±ä¼šç¤¾</div><div class="pdf-row-value">${d.company || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">é›»è©±ç•ªå·</div><div class="pdf-row-value">${d.tel || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ãƒ¡ãƒ¼ãƒ«</div><div class="pdf-row-value">${d.email || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">æ¡ˆä»¶</div><div class="pdf-row-value">${d.client || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ã‚¨ãƒªã‚¢</div><div class="pdf-row-value">${d.area || '-'}</div></div>
          </div>

          ${d.startTime ? `
          <div class="pdf-section-box">
            <div class="pdf-section-title">å‡ºç™ºç‚¹å‘¼</div>
            <div class="pdf-row"><div class="pdf-row-label">å‡ºç™ºå ´æ‰€</div><div class="pdf-row-value">${d.startPlace || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">å‡ºå‹¤æ™‚é–“</div><div class="pdf-row-value">${d.workTime || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">å‡ºç™ºæ™‚é–“</div><div class="pdf-row-value">${d.startTime || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ä½“èª¿ / ä½“æ¸©</div><div class="pdf-row-value">${d.condition || '-'} / ${d.temp || '-'}â„ƒ</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ç¡çœ æ™‚é–“</div><div class="pdf-row-value">${d.sleep || '-'} æ™‚é–“</div></div>
            <div class="pdf-row"><div class="pdf-row-label">é£²é…’ / æœè–¬</div><div class="pdf-row-value">${d.drink || '-'} / ${d.medicine || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«å€¤</div><div class="pdf-row-value">${d.alcoholValue || '-'} mg/L</div></div>
            <div class="pdf-row"><div class="pdf-row-label">å‡ºç™ºãƒ¡ãƒ¼ã‚¿ãƒ¼</div><div class="pdf-row-value">${d.startMeter || '-'} km</div></div>
          </div>

          <div class="pdf-section-box">
            <div class="pdf-section-title">æ—¥å¸¸ç‚¹æ¤œ</div>
            <div class="pdf-row"><div class="pdf-row-label">ãƒ–ãƒ¬ãƒ¼ã‚­ / ã‚¿ã‚¤ãƒ¤</div><div class="pdf-row-value">${d.check_brake || '-'} / ${d.check_tire || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ç¯ç«é¡ / ã‚«ãƒ¡ãƒ©</div><div class="pdf-row-value">${d.check_light || '-'} / ${d.check_camera || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">è»Šä½“å¤–è¦³ / ãã®ä»–</div><div class="pdf-row-value">${d.check_body || '-'} / ${d.check_other || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ç‚¹æ¤œãƒ¡ãƒ¢</div><div class="pdf-row-value">${d.check_note || '-'}</div></div>
          </div>
          ` : '' }

          ${d.returnTime ? `
          <div class="pdf-section-box">
            <div class="pdf-section-title">å¸°ç€ç‚¹å‘¼ãƒ»é‹è¡Œè¨˜éŒ²</div>
            <div class="pdf-row"><div class="pdf-row-label">å¸°ç€å ´æ‰€</div><div class="pdf-row-value">${d.returnPlace || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">é€€å‹¤æ™‚é–“</div><div class="pdf-row-value">${d.offTime || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">å¸°ç€æ™‚é–“</div><div class="pdf-row-value">${d.returnTime || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">å¸°ç€ãƒ¡ãƒ¼ã‚¿ãƒ¼</div><div class="pdf-row-value">${d.returnMeter || '-'} km</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ç·èµ°è¡Œè·é›¢</div><div class="pdf-row-value">${d.distance || '-'} km</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ä¼‘æ†©</div><div class="pdf-row-value">${d.rest || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ä»£é‡‘å…¥é‡‘çŠ¶æ³</div><div class="pdf-row-value">${d.codStatus || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ä»£é‡‘å…¥é‡‘é¡</div><div class="pdf-row-value">${d.codAmount || '-'} å††</div></div>
            <div class="pdf-row"><div class="pdf-row-label">é“è·¯ãƒ»é‹è¡ŒçŠ¶æ³</div><div class="pdf-row-value">${d.roadStatus || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ç•°å¸¸ã®è©³ç´°</div><div class="pdf-row-value">${d.abnormalDetail || '-'}</div></div>
            <div class="pdf-row"><div class="pdf-row-label">ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ãƒã‚§ãƒƒã‚¯ï¼ˆå¸°ç€æ™‚ï¼‰</div><div class="pdf-row-value">${d.returnAlcoholCheck || '-'}</div></div>
          </div>
          ` : '' }

        </div>
        ${idx < records.length-1 ? '<div class="page-break"></div>' : ''}
      `;
    });

    html += '</div>';
    return html;
  }

  function showRecordPdf(rec){
    pdfOutput.innerHTML = buildPdfHtml([rec]);
    pdfPrintBtn.style.display = 'inline-flex';
    pdfBackBtn.style.display = 'inline-flex';
    historyList.style.display = 'block';
  }

  function resetPdfView(){
    pdfOutput.innerHTML = '';
    pdfPrintBtn.style.display = 'none';
    pdfBackBtn.style.display = 'none';
    historyList.style.display = 'block';
  }

  pdfBackBtn.addEventListener('click',resetPdfView);

  // PDFå°åˆ· / ä¿å­˜ï¼šæ–°ã—ã„ã‚¿ãƒ–ã‚’é–‹ã„ã¦å°åˆ·ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’å‡ºã™æ–¹å¼
  pdfPrintBtn.addEventListener('click',()=>{
    const html = pdfOutput.innerHTML;
    if(!html){
      alert('PDFã‚’è¡¨ç¤ºã™ã‚‹è¨˜éŒ²ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚');
      return;
    }
    const win = window.open('', '_blank');
    if(!win){
      alert('ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã¾ã™ã€‚ç«¯æœ«ã®å…±æœ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€Œãƒ—ãƒªãƒ³ãƒˆã€ã‚„ã€ŒPDFã¨ã—ã¦ä¿å­˜ã€ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚');
      return;
    }
    win.document.open();
    win.document.write('<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><title>OFA GROUP Webç‚¹å‘¼PDF</title>');
    win.document.write('<style>body{font-family:"Noto Sans JP",sans-serif;margin:0;padding:10px;}@media print{.page-break{page-break-after:always;}}</style>');
    win.document.write('</head><body>');
    win.document.write(html);
    win.document.write('</body></html>');
    win.document.close();
    win.focus();
    win.print();
  });

  // å±¥æ­´åˆæœŸæç”»
  renderHistory();
</script>

</body>
</html>
