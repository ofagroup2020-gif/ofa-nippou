<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğŸšš å‡ºç™ºç‚¹å‘¼ | OFA ç‚¹å‘¼ãƒ»ç‚¹æ¤œ</title>

  <!-- æ—¢å­˜CSSã‚’ä½¿ã†å‰æï¼ˆãªã‘ã‚Œã° style.css ã‚’å¾Œã§æ•´ãˆã¾ã™ï¼‰ -->
  <link rel="stylesheet" href="./style.css" />

  <style>
    /* departure/arrival å…±é€šã®ã‚¹ãƒãƒ›æœ€é©åŒ–ï¼ˆstyle.cssãŒè–„ãã¦ã‚‚å´©ã‚Œãªã„æœ€ä½é™ï¼‰ */
    :root{ --card:#fff; --bg:#f3f6fb; --text:#111; --muted:#667085; --line:#e6eaf2; }
    body{ background:var(--bg); color:var(--text); margin:0; font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic",sans-serif; }
    .wrap{ max-width:780px; margin:0 auto; padding:16px; }
    .card{ background:var(--card); border:1px solid var(--line); border-radius:18px; padding:16px; box-shadow:0 8px 24px rgba(16,24,40,.06); }
    .title{ display:flex; align-items:center; gap:10px; margin:4px 0 8px; }
    .title h1{ font-size:22px; margin:0; }
    .subtitle{ color:var(--muted); font-size:13px; margin:0 0 14px; }
    .badge{ display:inline-flex; align-items:center; gap:8px; padding:10px 12px; border-radius:999px; background:#eef6ff; color:#175cd3; font-weight:700; font-size:13px; }
    .section{ margin-top:14px; border-top:1px dashed var(--line); padding-top:14px; }
    .section h2{ font-size:15px; margin:0 0 10px; }
    .grid{ display:grid; grid-template-columns:1fr; gap:10px; }
    @media (min-width:680px){ .grid.two{ grid-template-columns:1fr 1fr; } }
    label{ display:block; font-size:12px; color:var(--muted); margin:0 0 6px; }
    input, select, textarea{
      width:100%; box-sizing:border-box; border:1px solid var(--line); border-radius:14px;
      padding:14px 12px; font-size:16px; background:#fff; outline:none;
    }
    textarea{ min-height:88px; resize:vertical; }
    .row{ display:flex; gap:10px; flex-wrap:wrap; }
    .btn{
      border:0; border-radius:14px; padding:14px 14px; font-weight:800; font-size:16px;
      cursor:pointer;
    }
    .btn.primary{ background:linear-gradient(90deg,#ff7a18,#ff3d81); color:#fff; flex:1; }
    .btn.ghost{ background:#eef2ff; color:#1d2939; }
    .help{ font-size:12px; color:var(--muted); margin-top:6px; line-height:1.5; }
    .req{ color:#d92d20; font-weight:800; margin-left:4px; }
    .toast{
      position:fixed; left:50%; transform:translateX(-50%);
      bottom:18px; background:#111; color:#fff; padding:10px 12px; border-radius:999px;
      font-size:13px; opacity:0; pointer-events:none; transition:.2s;
      max-width:92vw; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .toast.show{ opacity:1; }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <div class="title">
        <div class="badge">ğŸšš å‡ºç™ºç‚¹å‘¼</div>
        <h1>ç‚¹å‘¼ãƒ»ç‚¹æ¤œï¼ˆæ¥­å‹™å‰ï¼‰</h1>
      </div>
      <p class="subtitle">å…¥åŠ› â†’ å†™çœŸ â†’ é€ä¿¡ï¼ˆDrive/ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«ä¿å­˜ï¼‰ï½œã‚¹ãƒãƒ›æœ€é©</p>

      <!-- app.js ãŒæ‹¾ã„ã‚„ã™ã„ã‚ˆã†ã« form ã‚’å›ºå®š -->
      <form id="tenkoForm" data-mode="departure">

        <div class="grid two">
          <div>
            <label>æ—¥ä»˜<span class="req">å¿…é ˆ</span></label>
            <input id="date" name="date" type="date" required />
          </div>
          <div>
            <label>æ™‚åˆ»<span class="req">å¿…é ˆ</span></label>
            <input id="time" name="time" type="time" required />
          </div>
        </div>

        <div class="grid two">
          <div>
            <label>é‹è»¢è€…æ°å<span class="req">å¿…é ˆ</span></label>
            <input id="driverName" name="driverName" type="text" placeholder="ä¾‹ï¼‰æ£®ä¸‹ æ´¸" required />
          </div>
          <div>
            <label>è»Šä¸¡ç•ªå· / è»Šç•ª<span class="req">å¿…é ˆ</span></label>
            <input id="vehicleNo" name="vehicleNo" type="text" placeholder="ä¾‹ï¼‰é¹¿å…å³¶ 480 ã‚ 1234 / è»Šç•ª12" required />
          </div>
        </div>

        <div class="grid two">
          <div>
            <label>ç‚¹å‘¼å®Ÿæ–½è€…ï¼ˆé‹è¡Œç®¡ç†è€…ç­‰ï¼‰<span class="req">å¿…é ˆ</span></label>
            <input id="managerName" name="managerName" type="text" placeholder="ä¾‹ï¼‰OFA æœ¬éƒ¨ å¤ªç”°" required />
          </div>
          <div>
            <label>ç‚¹å‘¼æ–¹æ³•<span class="req">å¿…é ˆ</span></label>
            <select id="method" name="method" required>
              <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
              <option>å¯¾é¢</option>
              <option>é›»è©±</option>
              <option>ITç‚¹å‘¼ï¼ˆã‚¢ãƒ—ãƒªï¼‰</option>
              <option>ãã®ä»–</option>
            </select>
          </div>
        </div>

        <div class="grid">
          <div>
            <label>ç‚¹å‘¼å ´æ‰€ï¼ˆå–¶æ¥­æ‰€ãƒ»è»Šåº«ä»¥å¤–ã®å ´åˆï¼‰</label>
            <input id="place" name="place" type="text" placeholder="ä¾‹ï¼‰è‡ªå®… / ç¾å ´ / è»Šåº«" />
          </div>
        </div>

        <div class="section">
          <h2>ğŸº ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ç¢ºèª</h2>
          <div class="grid two">
            <div>
              <label>ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«æ¸¬å®šå€¤<span class="req">å¿…é ˆ</span></label>
              <input id="alcoholValue" name="alcoholValue" type="number" step="0.01" min="0" placeholder="0.00" required />
              <div class="help">0.00 ä»¥å¤–ã¯é€ä¿¡å‰ã«å¿…ãšç¢ºèªãƒ»é€£çµ¡</div>
            </div>
            <div>
              <label>é…’æ°—å¸¯ã³<span class="req">å¿…é ˆ</span></label>
              <select id="alcoholBand" name="alcoholBand" required>
                <option value="">é¸æŠ</option>
                <option>ãªã—</option>
                <option>ã‚ã‚Š</option>
              </select>
            </div>
          </div>

          <div class="grid">
            <div>
              <label>æ¸¬å®šç”»åƒ/å‹•ç”»ï¼ˆä»»æ„ãƒ»è¤‡æ•°OKï¼‰</label>
              <input id="photos" name="photos" type="file" accept="image/*,video/*" multiple />
              <div class="help">ä¾‹ï¼šæ¤œçŸ¥å™¨è¡¨ç¤ºã€ãƒ¡ãƒ¼ã‚¿ãƒ¼ã€è»Šä¸¡å¤–è¦³ã€ç‚¹æ¤œç®‡æ‰€ãªã©</div>
            </div>
          </div>
        </div>

        <div class="section">
          <h2>ğŸ©º ä½“èª¿ãƒ»å®‰å…¨ç¢ºèªï¼ˆæ¥­å‹™å‰ï¼‰</h2>
          <div class="grid two">
            <div>
              <label>ä½“æ¸©ï¼ˆä»»æ„ï¼‰</label>
              <input id="temp" name="temp" type="number" step="0.1" placeholder="ä¾‹ï¼‰36.5" />
            </div>
            <div>
              <label>è¡€åœ§ï¼ˆä»»æ„ï¼‰</label>
              <input id="bp" name="bp" type="text" placeholder="ä¾‹ï¼‰120/80" />
            </div>
          </div>

          <div class="grid">
            <div>
              <label>ç¡çœ /ç–²åŠ´ã®çŠ¶æ³ï¼ˆå¿…é ˆï¼‰</label>
              <select id="fatigue" name="fatigue" required>
                <option value="">é¸æŠ</option>
                <option>å•é¡Œãªã—</option>
                <option>ã‚„ã‚„ä¸å®‰</option>
                <option>ä¸å®‰ã‚ã‚Šï¼ˆè¦ç›¸è«‡ï¼‰</option>
              </select>
            </div>
          </div>

          <div class="grid">
            <div>
              <label>æ—¥å¸¸ç‚¹æ¤œãƒ»è»Šä¸¡çŠ¶æ…‹ï¼ˆå¿…é ˆï¼‰</label>
              <select id="vehicleCheck" name="vehicleCheck" required>
                <option value="">é¸æŠ</option>
                <option>ç•°å¸¸ãªã—</option>
                <option>è»½å¾®ãªä¸å…·åˆã‚ã‚Šï¼ˆãƒ¡ãƒ¢è¨˜è¼‰ï¼‰</option>
                <option>ç•°å¸¸ã‚ã‚Šï¼ˆé‹è¡Œä¸å¯/è¦å¯¾å¿œï¼‰</option>
              </select>
            </div>
          </div>

          <div class="grid">
            <div>
              <label>æŒ‡ç¤ºäº‹é … / ãƒ¡ãƒ¢ï¼ˆå¿…é ˆï¼‰</label>
              <textarea id="memo" name="memo" placeholder="ä¾‹ï¼‰ä½“èª¿è‰¯å¥½ã€‚ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«0ã€‚æ—¥å¸¸ç‚¹æ¤œOKã€‚æ³¨æ„ï¼šé›¨å¤©ãƒ»å®‰å…¨é‹è»¢ã€‚é€£çµ¡äº‹é …ï¼šâ—‹â—‹" required></textarea>
            </div>
          </div>

          <div class="grid">
            <div>
              <label>æ¥­å‹™ä¸å¯ã¨åˆ¤æ–­ã—ãŸå ´åˆã®ç†ç”±ãƒ»ä»£æ›¿æªç½®ï¼ˆè©²å½“æ™‚ã®ã¿ï¼‰</label>
              <textarea id="notfit" name="notfit" placeholder="ä¾‹ï¼‰ç™ºç†±ã®ãŸã‚é‹è¡Œä¸å¯â†’ä»£èµ°æ‰‹é…ã€ç®¡ç†è€…ã¸é€£çµ¡æ¸ˆã¿"></textarea>
            </div>
          </div>
        </div>

        <div class="section">
          <div class="row">
            <button type="button" class="btn ghost" onclick="history.back()">æˆ»ã‚‹</button>
            <button type="submit" class="btn primary">é€ä¿¡ï¼ˆå‡ºç™ºç‚¹å‘¼ï¼‰</button>
          </div>
          <div class="help">
            é€ä¿¡å¾Œã¯è‡ªå‹•ã§ãƒˆãƒƒãƒ—ã«æˆ»ã‚Šã¾ã™ã€‚å†™çœŸãŒå¤šã„ã¨é€ä¿¡ã«æ™‚é–“ãŒã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚<br/>
            Safari/Chromeã§å‹•ã‹ãªã„æ™‚ã¯ã€Œãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰OFFã€ã€Œé€šä¿¡ç’°å¢ƒã€ã€Œå®¹é‡ä¸è¶³ã€ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
          </div>
        </div>

      </form>
    </div>
  </div>

  <div id="toast" class="toast">é€ä¿¡ä¸­...</div>

  <!-- æ—¢å­˜ã® app.js ã‚’èª­ã‚€ -->
  <script src="./app.js"></script>

  <script>
    // app.js å´ã« submitTenko ãŒã‚ã‚Œã°ä½¿ã†ã€‚ãªã‘ã‚Œã°æœ€ä½é™ã®é€ä¿¡ã‚¬ãƒ¼ãƒ‰ã ã‘ã€‚
    const form = document.getElementById("tenkoForm");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      // app.js ã« submitTenko(mode, form) ãŒã‚ã‚‹æƒ³å®š
      if (typeof window.submitTenko === "function") {
        await window.submitTenko("departure", form);
        return;
      }
      // ãªã„å ´åˆã¯è­¦å‘Šï¼ˆã“ã“ã¯å¾Œã§ã‚ãªãŸã® app.js ã«åˆã‚ã›ã¦èª¿æ•´ã™ã‚‹ï¼‰
      alert("app.js ã® submitTenko ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚app.js ã‚’æœ€æ–°ã«ã—ã¦ãã ã•ã„ã€‚");
    });

    // åˆæœŸå€¤ï¼ˆä»Šæ—¥/ç¾åœ¨æ™‚åˆ»ï¼‰ã‚’è‡ªå‹•ã‚»ãƒƒãƒˆ
    const d = new Date();
    const pad = (n) => String(n).padStart(2,"0");
    document.getElementById("date").value = `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
    document.getElementById("time").value = `${pad(d.getHours())}:${pad(d.getMinutes())}`;
  </script>
</body>
</html>
