<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>出発点呼 | OFA 点呼・点検</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <style>
    body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans JP",sans-serif;background:#f6f7fb;margin:0;color:#111}
    .wrap{max-width:720px;margin:0 auto;padding:16px}
    .top{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
    .top a{color:#0b4a6e;text-decoration:none;font-weight:800}
    .card{background:#fff;border-radius:16px;padding:16px;box-shadow:0 6px 18px rgba(0,0,0,.08);margin-bottom:14px}
    h1{font-size:18px;margin:0}
    h2{font-size:16px;margin:0 0 10px}
    .sub{color:#555;font-size:12px;margin-top:4px}
    .grid{display:grid;gap:10px}
    @media(min-width:700px){.grid{grid-template-columns:1fr 1fr}}
    label{font-size:12px;color:#444;font-weight:800}
    input,select,textarea{width:100%;box-sizing:border-box;border:1px solid #d6d9e0;border-radius:12px;padding:12px;font-size:16px;background:#fff}
    textarea{min-height:90px}
    .req{color:#e11d48;margin-left:4px}
    .btn{width:100%;border:0;border-radius:14px;padding:16px 14px;font-size:16px;font-weight:900;margin-top:10px}
    .primary{background:linear-gradient(90deg,#ff7a00,#ff2d9a);color:#fff}
    .ghost{background:#eef2ff;color:#1f2a55}
    .note{font-size:12px;color:#666;line-height:1.6}
    .status{padding:10px 12px;border-radius:12px;background:#f1f5f9;color:#0f172a;font-size:13px;display:none}
    .status.ok{background:#ecfdf5;color:#065f46}
    .status.ng{background:#fff1f2;color:#9f1239}
    .hr{height:1px;background:#eef0f4;margin:12px 0}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <a href="./index.html">← 戻る</a>
      <div style="font-weight:900;">OFA 点呼・点検</div>
      <div style="width:44px"></div>
    </div>

    <div class="card">
      <h1>出発点呼</h1>
      <div class="sub">※アルコール数値は必須／時刻は選択式／写真は任意</div>
    </div>

    <div class="card">
      <h2>基本情報（共通）</h2>
      <div class="grid">
        <div>
          <label>日付<span class="req">*</span></label>
          <input id="date" type="date">
        </div>
        <div>
          <label>時刻（選択）<span class="req">*</span></label>
          <select id="timeSelected"></select>
        </div>

        <div>
          <label>氏名<span class="req">*</span></label>
          <input id="driverName" placeholder="例：森下洸">
        </div>
        <div>
          <label>車両番号<span class="req">*</span></label>
          <input id="vehicleNo" placeholder="例：鹿児島 21-15">
        </div>

        <div>
          <label>電話（自動入力）</label>
          <input id="phone" placeholder="例：080..." inputmode="tel">
        </div>
        <div>
          <label>メール（自動入力）</label>
          <input id="email" placeholder="例：xxx@gmail.com" inputmode="email">
        </div>

        <div>
          <label>免許証番号（自動入力）</label>
          <input id="licenseNo" placeholder="任意（初回入力→保存）">
        </div>
        <div>
          <label>エリア（任意）</label>
          <input id="area" placeholder="例：鹿児島市">
        </div>

        <div>
          <label>ルート/コース（任意）</label>
          <input id="route" placeholder="例：Aコース / ○○便">
        </div>
        <div>
          <label>メーター（出発/任意）</label>
          <input id="meterStart" placeholder="例：127949" inputmode="numeric">
        </div>
      </div>

      <button class="btn ghost" id="saveProfileBtn" type="button">この情報を保存（次回から自動入力）</button>
      <div class="note">※保存すると「氏名/電話/メール/免許証番号」が次回から自動入力されます。</div>
    </div>

    <div class="card">
      <h2>点呼（健康・酒気帯び確認）</h2>
      <div class="grid">
        <div>
          <label>アルコール判定<span class="req">*</span></label>
          <select id="alcoholStatus">
            <option value="問題なし">問題なし</option>
            <option value="要確認">要確認</option>
            <option value="異常あり">異常あり</option>
          </select>
        </div>
        <div>
          <label>アルコール数値<span class="req">*</span></label>
          <input id="alcoholValue" placeholder="例：0.00" inputmode="decimal">
        </div>

        <div>
          <label>体調<span class="req">*</span></label>
          <select id="condition">
            <option value="良好">良好</option>
            <option value="普通">普通</option>
            <option value="不調">不調</option>
          </select>
        </div>
        <div>
          <label>疲労度（任意）</label>
          <select id="fatigue">
            <option value="">未入力</option>
            <option value="低い">低い</option>
            <option value="普通">普通</option>
            <option value="高い">高い</option>
          </select>
        </div>

        <div>
          <label>体温（任意）</label>
          <input id="temperature" placeholder="例：36.5" inputmode="decimal">
        </div>
        <div>
          <label>睡眠時間（任意）</label>
          <input id="sleepHours" placeholder="例：7" inputmode="decimal">
        </div>

        <div>
          <label>服薬（任意）</label>
          <select id="medicine">
            <option value="">未入力</option>
            <option value="なし">なし</option>
            <option value="あり">あり</option>
          </select>
        </div>
        <div>
          <label>健康メモ（任意）</label>
          <input id="healthMemo" placeholder="例：頭痛あり/通院後 など">
        </div>
      </div>
    </div>

    <div class="card">
      <h2>運行前点検（任意〜一部必須化も可能）</h2>
      <div class="grid">
        <div>
          <label>ブレーキ/タイヤ</label>
          <select id="checkBrakeTire">
            <option value="OK">OK</option>
            <option value="NG">NG</option>
          </select>
        </div>
        <div>
          <label>灯火類/カメラ</label>
          <select id="checkLights">
            <option value="OK">OK</option>
            <option value="NG">NG</option>
          </select>
        </div>
        <div>
          <label>ミラー/視界</label>
          <select id="checkMirror">
            <option value="OK">OK</option>
            <option value="NG">NG</option>
          </select>
        </div>
        <div>
          <label>施錠/積載</label>
          <select id="checkLockLoad">
            <option value="OK">OK</option>
            <option value="NG">NG</option>
          </select>
        </div>
        <div style="grid-column:1/-1">
          <label>点検メモ（任意）</label>
          <textarea id="checkMemo" placeholder="異常があれば内容を記載"></textarea>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>写真（任意）</h2>
      <div class="grid">
        <div>
          <label>アルコールチェック写真（任意）</label>
          <input id="photoAlcohol" type="file" accept="image/*" capture="environment">
        </div>
        <div>
          <label>運転免許証（任意）</label>
          <input id="photoLicense" type="file" accept="image/*">
        </div>
        <div>
          <label>点検写真（任意）</label>
          <input id="photoInspect" type="file" accept="image/*" capture="environment">
        </div>

        <div>
          <label>車両：前（任意）</label>
          <input id="photoCarFront" type="file" accept="image/*" capture="environment">
        </div>
        <div>
          <label>車両：後（任意）</label>
          <input id="photoCarBack" type="file" accept="image/*" capture="environment">
        </div>
        <div>
          <label>車両：左（任意）</label>
          <input id="photoCarLeft" type="file" accept="image/*" capture="environment">
        </div>
        <div>
          <label>車両：右（任意）</label>
          <input id="photoCarRight" type="file" accept="image/*" capture="environment">
        </div>
      </div>

      <div class="hr"></div>
      <label>備考（任意）</label>
      <textarea id="remarks" placeholder="連絡事項など"></textarea>

      <div id="status" class="status"></div>
      <button class="btn primary" id="submitBtn" type="button">出発点呼を送信</button>
      <div class="note">
        ※送信後、保存が反映されます。<br>
        ※うまく動かない時：Safariの「プライベートモード」をOFF → 再読み込み。
      </div>
    </div>

  </div>

  <script src="./app.js"></script>
  <script>
    OFA.initPage({ mode: 'departure' });
  </script>
</body>
</html>
