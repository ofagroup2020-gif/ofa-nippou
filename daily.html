<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>OFA | 日報（業務実績）</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
<div class="wrap">
  <div class="topbar">
    <div>
      <div class="title">日報（業務実績）</div>
      <div class="subtitle">ここが一番重要｜月報は日報から自動集計</div>
    </div>
    <button class="btnSmall" id="backBtn" type="button">戻る</button>
  </div>

  <div class="card rainbowBorder">
    <div class="row">
      <span class="badge"><span class="dot ng" id="dot"></span><span id="state">未ログイン</span></span>
      <span class="badge"><span class="k">ログイン</span>&nbsp;<b id="who">-</b></span>
    </div>

    <hr class="sep">

    <div class="grid2">
      <div>
        <label>稼働日 <span class="req">*</span></label>
        <input id="workDate" type="date" />
      </div>
      <div>
        <label>運転者氏名（本名） <span class="req">*</span></label>
        <input id="driverName" type="text" placeholder="例：森下 洸" />
      </div>
    </div>

    <div id="projectsBox"></div>
    <div class="btnRow">
      <button class="btn btnGhost" id="addProjectBtn" type="button">＋ 案件を追加</button>
    </div>

    <hr class="sep">
    <div class="sectionTitle">実績（必須）</div>

    <div class="grid3">
      <div>
        <label>稼働開始 <span class="req">*</span></label>
        <input id="startTime" type="time" />
      </div>
      <div>
        <label>稼働終了 <span class="req">*</span></label>
        <input id="endTime" type="time" />
      </div>
      <div>
        <label>休憩時間（分） <span class="req">*</span></label>
        <input id="breakMinutes" type="number" min="0" step="1" placeholder="例：60" />
      </div>
    </div>

    <div class="grid3">
      <div>
        <label>走行距離（km）</label>
        <input id="distanceKm" type="number" min="0" step="0.1" placeholder="ODO差分があればそれを推奨" />
      </div>
      <div>
        <label>配達個数 <span class="req">*</span></label>
        <input id="deliveries" type="number" min="0" step="1" placeholder="例：180" />
      </div>
      <div>
        <label>不在数</label>
        <input id="absent" type="number" min="0" step="1" placeholder="例：12" />
      </div>
    </div>

    <div class="grid3">
      <div>
        <label>再配達数</label>
        <input id="redelivery" type="number" min="0" step="1" />
      </div>
      <div>
        <label>返品/持戻り数</label>
        <input id="returns" type="number" min="0" step="1" />
      </div>
      <div>
        <label>クレーム（なし/あり）<span class="req">*</span></label>
        <select id="claimFlag">
          <option value="">選択</option>
          <option>なし</option>
          <option>あり</option>
        </select>
      </div>
    </div>

    <label>クレーム内容（ありの場合必須）</label>
    <textarea id="claimDetail" placeholder="ありの場合は必ず内容"></textarea>

    <hr class="sep">
    <div class="sectionTitle">売上（必須）</div>

    <div class="grid3">
      <div>
        <label>日当（固定報酬）<span class="req">*</span></label>
        <input id="payDaily" type="number" min="0" step="1" placeholder="例：18000" />
      </div>
      <div>
        <label>インセンティブ</label>
        <input id="payIncentive" type="number" min="0" step="1" placeholder="例：2000" />
      </div>
      <div>
        <label>売上合計（自動）</label>
        <input id="payTotal" readonly />
      </div>
    </div>

    <div class="grid2">
      <div>
        <label>経費：高速</label>
        <input id="costToll" type="number" min="0" step="1" />
      </div>
      <div>
        <label>経費：駐車</label>
        <input id="costParking" type="number" min="0" step="1" />
      </div>
    </div>

    <div class="grid2">
      <div>
        <label>経費：燃料</label>
        <input id="costFuel" type="number" min="0" step="1" />
      </div>
      <div>
        <label>経費：その他</label>
        <input id="costOther" type="number" min="0" step="1" />
      </div>
    </div>

    <div class="grid2">
      <div>
        <label>経費合計（自動）</label>
        <input id="costTotal" readonly />
      </div>
      <div>
        <label>差引（概算利益・自動）</label>
        <input id="profit" readonly />
      </div>
    </div>

    <hr class="sep">
    <div class="sectionTitle">その他（必須）</div>

    <div class="grid3">
      <div>
        <label>事故/物損（なし/あり）<span class="req">*</span></label>
        <select id="accidentFlag">
          <option value="">選択</option>
          <option>なし</option>
          <option>あり</option>
        </select>
      </div>
      <div>
        <label>遅延理由（なし/渋滞/積込遅れ/体調/その他）<span class="req">*</span></label>
        <select id="delayReason">
          <option value="">選択</option>
          <option>なし</option>
          <option>渋滞</option>
          <option>積込遅れ</option>
          <option>体調</option>
          <option>その他</option>
        </select>
      </div>
      <div>
        <label>明日の稼働予定（あり/なし）<span class="req">*</span></label>
        <select id="tomorrowPlan">
          <option value="">選択</option>
          <option>あり</option>
          <option>なし</option>
        </select>
      </div>
    </div>

    <label>事故/物損 内容（ありの場合必須）</label>
    <textarea id="accidentDetail" placeholder="ありの場合は必ず報告内容"></textarea>

    <label>日報メモ（引継ぎ/改善）</label>
    <textarea id="note" placeholder="例：注意点、改善点、引継ぎなど"></textarea>

    <label>日報添付写真（任意）</label>
    <input id="reportPhotos" type="file" accept="image/*" multiple />

    <div class="btnRow">
      <button class="btn btnGrad" id="submitBtn" type="button">送信（日報）</button>
    </div>
    <div class="hint">※先にデータ保存→写真アップの順で確実に保存します。</div>
  </div>
</div>

<div id="toast" class="toast"></div>

<script type="module" src="./app-daily.js"></script>
</body>
</html>
