<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OFA 点呼・点検</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="wrap">
    <header class="head">
      <div class="brand">🚚 <b>OFA</b> 点呼・点検</div>
      <div class="sub">出発点呼 / 帰着点呼を切り替えて入力（スマホ最適）</div>
    </header>

    <section class="card">
      <div class="pillrow">
        <button id="modeBtn" class="pill">出発点呼モード</button>
        <button id="pingBtn" class="btn">接続テスト</button>
      </div>

      <div class="apiBox">
        <div class="apiLabel">API URL</div>
        <div id="apiUrl" class="apiUrl"></div>
        <div id="pingStatus" class="status bad">未確認</div>
        <div id="pingMsg" class="hint">まず「接続テスト」を押してください。</div>
      </div>

      <div class="reportRow">
        <button id="dailyPdfBtn" class="btn ghost">日報PDF</button>
        <input id="dailyDate" type="date" class="input date" />
        <button id="monthlyPdfBtn" class="btn ghost">月報PDF</button>
        <input id="monthlyMonth" type="month" class="input month" />
      </div>
      <div id="pdfLink" class="pdfLink"></div>
    </section>

    <section class="card">
      <div class="tabs">
        <button id="tabStart" class="tab active">出発点呼</button>
        <button id="tabEnd" class="tab">帰着点呼</button>
      </div>

      <form id="form" class="form">
        <label class="lbl">氏名 <span class="req">*</span></label>
        <input id="driver" class="input" placeholder="例：山田 太郎" required />

        <label class="lbl">車両番号 <span class="req">*</span></label>
        <input id="vehicle" class="input" placeholder="例：鹿児島 480 あ 12-34" required />

        <label class="lbl">アルコールチェック <span class="req">*</span></label>
        <select id="alcohol" class="input" required>
          <option>問題なし</option>
          <option>反応あり</option>
        </select>

        <label class="lbl">体調 <span class="req">*</span></label>
        <select id="condition" class="input" required>
          <option>良好</option>
          <option>普通</option>
          <option>不調</option>
        </select>

        <div class="grid2">
          <div>
            <label class="lbl">体温（任意）</label>
            <input id="temp" class="input" inputmode="decimal" placeholder="例：36.5" />
          </div>
          <div>
            <label class="lbl">睡眠時間（任意）</label>
            <input id="sleep" class="input" inputmode="decimal" placeholder="例：7" />
          </div>
        </div>

        <label class="lbl">日常点検（異常有無） <span class="req">*</span></label>
        <select id="inspection" class="input" required>
          <option>異常なし</option>
          <option>異常あり</option>
        </select>

        <label class="lbl">異常内容（異常ありの場合）</label>
        <input id="inspectionDetail" class="input" placeholder="例：左前輪 空気圧低下 / ブレーキ鳴き など" />

        <div id="meterStartWrap">
          <label class="lbl">メーター（出発）</label>
          <input id="meterStart" class="input" inputmode="numeric" placeholder="例：12345" />
        </div>

        <div id="meterEndWrap" class="hidden">
          <label class="lbl">メーター（帰着） <span class="req">*</span></label>
          <input id="meterEnd" class="input" inputmode="numeric" placeholder="例：23456" />
          <div class="note">※帰着点呼は「帰着メーター」を必須にしています（運用に合わせて変更可）</div>
        </div>

        <label class="lbl">点検写真（メーター/外観/警告灯など）</label>
        <input id="inspectionPhoto" type="file" accept="image/*" class="file" />

        <label class="lbl">アルコール検知器写真（出発）</label>
        <input id="startAlcoholPhoto" type="file" accept="image/*" class="file" />

        <div id="endAlcoholWrap" class="hidden">
          <label class="lbl">アルコール検知器写真（帰着・任意）</label>
          <input id="endAlcoholPhoto" type="file" accept="image/*" class="file" />
        </div>

        <label class="lbl">備考</label>
        <textarea id="memo" class="input area" placeholder="連絡事項など"></textarea>

        <button id="submitBtn" type="submit" class="btn primary">送信</button>
        <div id="toast" class="toast"></div>
      </form>
    </section>
  </div>

  <script src="./app.js"></script>
</body>
</html>
