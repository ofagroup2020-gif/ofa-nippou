<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>OFA 点呼システム | ログイン</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body data-page="index">
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo"></div>
        <div>
          <div class="title">OFA 点呼システム</div>
          <div class="subtitle">業務開始（出発点呼）/ 業務終了（帰着点呼）/ 日報・月報・CSV</div>
        </div>
      </div>
    </div>

    <div class="card rainbow-border">
      <div class="notice">
        <b>🚚 点呼の重要ルール（必読）</b><br>
        ・点呼は <b>業務開始前（出発）</b> と <b>業務終了後（帰着）</b> の2回<br>
        ・アルコール測定は <b>必須</b>（数値と酒気帯び判定を入力）<br>
        ・点検（タイヤ/灯火/ブレーキ等）も <b>必須</b>（異常時はメモに詳細）<br>
        ・帰着点呼の「日報内容」は <b>そのままPDF提出</b> されるため、丁寧に記載<br>
      </div>

      <hr class="sep">

      <div id="loginState"></div>
      <div style="margin-top:12px">
        <div style="font-weight:950;margin-bottom:8px;">Googleでログイン</div>
        <div id="googleBtn"></div>
        <small class="hint">
          ※自動ログインできる場合は、次回からスムーズに入れます。<br>
          ※ログインできない時は「Authorized JavaScript origins」に GitHub Pages のURLが必要です。
        </small>
      </div>

      <div class="btnrow" style="margin-top:14px">
        <button class="btn rainbow" id="goDeparture" disabled>✅ 業務開始（出発点呼）</button>
        <button class="btn rainbow" id="goArrival" disabled>✅ 業務終了（帰着点呼 / 日報）</button>
        <button class="btn primary" id="goExport" disabled>📄 日報PDF / 月報 / CSV</button>
        <button class="btn danger" id="logoutBtn" style="display:none;">ログアウト</button>
      </div>

      <hr class="sep">

      <div id="adminState"></div>
      <div class="grid grid2" style="margin-top:12px;">
        <div>
          <label>管理者パスワード（管理者は全データ出力・検索可）</label>
          <input id="adminPass" type="password" placeholder="ofa-2026" />
          <small class="hint">※管理者は誰でもなれます（パス入力でON）</small>
        </div>
        <div style="display:flex;align-items:flex-end;gap:10px;flex-wrap:wrap;">
          <button class="btn primary" id="adminLoginBtn" style="width:100%;">管理者モードON</button>
          <button class="btn ghost" id="adminLogoutBtn" style="width:100%;">管理者モードOFF</button>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>
  <script src="./app.js"></script>
</body>
</html>
