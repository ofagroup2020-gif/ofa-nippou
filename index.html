<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>OFA 点呼 / 日報</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<h1>OFA 点呼 / 日報</h1>

<section id="login">
  <input id="email" placeholder="メール">
  <input id="password" type="password" placeholder="パスワード">
  <button id="loginBtn">ログイン</button>
  <button id="signupBtn">新規登録</button>
</section>

<section id="app" hidden>
  ログイン中：<span id="userEmail"></span>
  <button id="logoutBtn">ログアウト</button>

  <h2>点呼</h2>
  <select id="type">
    <option>出発</option>
    <option>帰着</option>
  </select>

  <input id="name" placeholder="氏名">
  <input id="license" placeholder="運転免許証番号">
  <input id="vehicle" placeholder="車両番号">

  <h3>日常点検</h3>
  <label><input type="checkbox"> ブレーキ</label>
  <label><input type="checkbox"> タイヤ</label>
  <label><input type="checkbox"> ライト</label>

  <h3>写真</h3>
  <input type="file" id="photos" multiple>

  <button id="saveBtn">保存</button>
  <button id="pdfBtn">PDF作成</button>
</section>

<script type="module">
import { initAuth } from "./js/auth.js";
import { saveTenko } from "./js/driver.js";
import { createDailyPDF } from "./js/pdf.js";

initAuth();

saveBtn.onclick = async () => {
  await saveTenko({
    type: type.value,
    name: name.value,
    license: license.value,
    vehicle: vehicle.value
  }, photos.files);
};

pdfBtn.onclick = () => {
  createDailyPDF({
    氏名: name.value,
    車両: vehicle.value
  });
};
</script>

</body>
</html>
