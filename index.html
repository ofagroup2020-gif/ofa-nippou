<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>OFA 点呼システム</title>
  <link rel="stylesheet" href="./style.css" />
  <!-- ✅ GIS（Google Identity Services） -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script src="./auth.js" defer></script>
</head>

<body data-page="index">
  <div class="wrap">
    <header class="card head">
      <div class="logo"></div>
      <div>
        <h1>OFA 点呼システム</h1>
        <p class="sub">業務開始（出発）/ 業務終了（帰着・日報）/ PDF・月報・CSV</p>
      </div>
    </header>

    <section class="card rule">
      <h2>🚚 点呼の重要ルール（必読）</h2>
      <ul>
        <li>点呼は <b>業務開始前（出発）</b> と <b>業務終了後（帰着）</b> の2回</li>
        <li>アルコール測定は必須（数値＋酒気帯び判定）</li>
        <li>点検（タイヤ/灯火/ブレーキ等）も必須（異常時はメモ＋写真）</li>
        <li>帰着点呼の「日報内容」はPDF提出されるため丁寧に記載</li>
      </ul>
    </section>

    <section class="card">
      <div class="rowBetween">
        <h2 style="margin:0;">Googleログイン</h2>
        <div class="pill" id="loginPill">未ログイン</div>
      </div>

      <div id="loginBox" class="loginBox">
        <!-- ✅ ここにGoogleログインボタンが出ます -->
        <div id="g_id_onload"
             data-client_id="__CLIENT_ID__"
             data-callback="onGoogleLogin"
             data-auto_prompt="false">
        </div>
        <div class="g_id_signin"
             data-type="standard"
             data-size="large"
             data-theme="outline"
             data-text="signin_with"
             data-shape="rectangular"
             data-logo_alignment="left">
        </div>

        <div class="small muted" style="margin-top:10px;">
          ※ログイン後、出発/帰着/出力が利用できます
        </div>
      </div>

      <div id="menuBox" class="btnCol hidden" style="margin-top:14px;">
        <a class="btn grad" href="./departure.html">✅ 業務開始（出発点呼）</a>
        <a class="btn grad" href="./arrival.html">✅ 業務終了（帰着点呼 / 日報）</a>
        <a class="btn dark" href="./export.html">📄 日報PDF / 月報 / CSV（出力）</a>
        <button class="btn ghost" id="logoutBtn" type="button">ログアウト</button>
      </div>
    </section>

    <div id="toast" class="toast" style="display:none;"></div>
  </div>

  <script src="./app.js" defer></script>
</body>
</html>
